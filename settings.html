<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>è¨­å®š | Settings - UVACO</title>
<link rel="stylesheet" href="styles.css">
<style>
body {
  padding-bottom: 0;
}
.settings-page {
  width: 100%;
  max-width: 600px; /* åŠ å¤§å¯¬åº¦ä»¥å®¹ç´æ©«å‘ä½ˆå±€ */
  margin: 0 auto;
  min-height: 100vh;
  padding: 20px;
  padding-top: 80px;
  padding-bottom: 100px; /* ç‚ºåº•éƒ¨å°èˆªæ¬„ç•™å‡ºç©ºé–“ */
}

/* èªè¨€å’Œä¸»é¡Œè¨­å®šé …ç›®æ©«å‘æ’åˆ— */
.settings-theme-item {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 16px !important;
}

.settings-theme-item .settings-item-content {
  flex: 0 0 auto;
}

.settings-theme-item .settings-item-title {
  font-size: 15px;
  font-weight: 600;
  line-height: 1.4;
  white-space: nowrap;
}

.settings-theme-buttons {
  display: flex;
  flex-direction: row;
  gap: 8px;
  flex-shrink: 0;
}

.settings-theme-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 8px 16px;
  white-space: nowrap;
  min-width: 60px;
}

.settings-theme-btn-text {
  font-size: 14px;
  font-weight: 500;
}

</style>
</head>

<body class="theme-dark lang-zh">

<!-- èƒŒæ™¯æ³¡æ³¡ -->
<div class="bg-blob blob1"></div>
<div class="bg-blob blob2"></div>

<!-- è¨­å®šé é¢å…§å®¹ -->
<div class="settings-page">
  <div class="settings-panel">
    <div class="settings-header">
      <h2 class="settings-title lang-zh">è¨­å®š</h2>
      <h2 class="settings-title lang-en">Settings</h2>
      <a href="yuyuko.html" class="settings-close">âœ•</a>
    </div>
    
    <div class="settings-menu">
      <!-- é–‹é€šé€šè¨ŠéŒ„å¹³å°åŠŸèƒ½ -->
      <a href="activate-platform.html" class="settings-item">
        <div class="settings-item-icon">ğŸš€</div>
        <div class="settings-item-content">
          <div class="settings-item-title lang-zh">é–‹é€šé€šè¨ŠéŒ„å¹³å°åŠŸèƒ½</div>
          <div class="settings-item-title lang-en">Activate Platform</div>
          <div class="settings-item-subtitle lang-zh">é–‹é€šä¸¦ä½¿ç”¨å¹³å°é€šè¨ŠéŒ„</div>
          <div class="settings-item-subtitle lang-en">Activate and use platform directory</div>
        </div>
        <div class="settings-item-arrow">â†’</div>
      </a>
      
      <!-- å¹³å°ç›®éŒ„ -->
      <a href="directory.html" class="settings-item">
        <div class="settings-item-icon">ğŸ”</div>
        <div class="settings-item-content">
          <div class="settings-item-title lang-zh">å¹³å°ç›®éŒ„</div>
          <div class="settings-item-title lang-en">Platform Directory</div>
          <div class="settings-item-subtitle lang-zh">å¹³å°é€šè¨ŠéŒ„æœå°‹</div>
          <div class="settings-item-subtitle lang-en">Platform address book search</div>
        </div>
        <div class="settings-item-arrow">â†’</div>
      </a>
      
      <!-- ç·¨è¼¯åç‰‡ -->
      <a href="edit.html" class="settings-item">
        <div class="settings-item-icon">âœï¸</div>
        <div class="settings-item-content">
          <div class="settings-item-title lang-zh">ç·¨è¼¯åç‰‡</div>
          <div class="settings-item-title lang-en">Edit Business Card</div>
          <div class="settings-item-subtitle lang-zh">ç·¨è¼¯åç‰‡å…§å®¹</div>
          <div class="settings-item-subtitle lang-en">Edit business card content</div>
        </div>
        <div class="settings-item-arrow">â†’</div>
      </a>
      
      <!-- ç®¡ç†å¾Œå° -->
      <a href="admin.html" class="settings-item">
        <div class="settings-item-icon">âš™ï¸</div>
        <div class="settings-item-content">
          <div class="settings-item-title lang-zh">ç®¡ç†å¾Œå°</div>
          <div class="settings-item-title lang-en">Management Backend</div>
          <div class="settings-item-subtitle lang-zh">ä¼æ¥­ç®¡ç†å¾Œå°</div>
          <div class="settings-item-subtitle lang-en">Enterprise management backend</div>
        </div>
        <div class="settings-item-arrow">â†’</div>
      </a>
      
      <!-- åŒ¯å…¥è¯çµ¡äºº -->
      <!-- åŒ¯å…¥è¯çµ¡äººï¼šå·²æ•´åˆåˆ°ã€Œå¹³å°é€šè¨ŠéŒ„ â†’ æ–°å¢å¥½å‹ã€ä¸­ -->
      
      <!-- èªè¨€è¨­å®š -->
      <div class="settings-item settings-theme-item">
        <div class="settings-item-content">
          <div class="settings-item-title lang-zh">èªè¨€è¨­å®š</div>
          <div class="settings-item-title lang-en">Language</div>
        </div>
        <div class="settings-theme-buttons">
          <button class="settings-theme-btn" id="langZhBtn" onclick="setLang('zh')">
            <span class="settings-theme-btn-text lang-zh">ä¸­æ–‡</span>
            <span class="settings-theme-btn-text lang-en">Chinese</span>
          </button>
          <button class="settings-theme-btn" id="langEnBtn" onclick="setLang('en')">
            <span class="settings-theme-btn-text lang-zh">è‹±æ–‡</span>
            <span class="settings-theme-btn-text lang-en">English</span>
          </button>
        </div>
      </div>

      
    </div>
  </div>
</div>

<!-- åº•éƒ¨å°èˆªæ¬„ -->
<nav class="bottom-nav">
  <a href="directory.html" class="nav-item">
    <span class="nav-icon">ğŸ“‹</span>
    <span class="nav-label lang-zh">é€šè¨ŠéŒ„</span>
    <span class="nav-label lang-en">Directory</span>
  </a>
  <a href="settings.html" class="nav-item">
    <span class="nav-icon">âš™ï¸</span>
    <span class="nav-label lang-zh">è¨­å®š</span>
    <span class="nav-label lang-en">Settings</span>
  </a>
</nav>

<script src="common.js"></script>
<script>
// è™•ç†è¨­å®šé¸é …é»æ“Š
function handleSettingsClick(action) {
  const zhElements = document.querySelectorAll('.lang-zh');
  const currentLang = zhElements.length > 0 && zhElements[0].style.display !== 'none' ? 'zh' : 'en';
  
  const messages = {
    'edit': { zh: 'ç·¨è¼¯åç‰‡åŠŸèƒ½é–‹ç™¼ä¸­', en: 'Edit card feature coming soon' },
    'admin': { zh: 'ç®¡ç†å¾Œå°åŠŸèƒ½é–‹ç™¼ä¸­', en: 'Admin backend feature coming soon' },
    'import': { zh: 'åŒ¯å…¥è¯çµ¡äººå·²æ•´åˆåˆ°å¹³å°é€šè¨ŠéŒ„çš„ã€Œæ–°å¢å¥½å‹ã€ä¸­', en: 'Import contacts is now inside Platform Directory â†’ Add Friend' }
  };
  
  const msg = messages[action] ? messages[action][currentLang] : (currentLang === 'zh' ? 'åŠŸèƒ½é–‹ç™¼ä¸­' : 'Feature coming soon');
  alert(msg);
}

// æ›´æ–°è¨­å®šé é¢çš„èªè¨€æŒ‰éˆ•ç‹€æ…‹
function updateSettingsLangButtons() {
  const zhBtn = document.getElementById('langZhBtn');
  const enBtn = document.getElementById('langEnBtn');
  
  if (zhBtn && enBtn) {
    const zhElements = document.querySelectorAll('.lang-zh');
    const isZh = zhElements.length > 0 && zhElements[0].style.display !== 'none';
    
    zhBtn.classList.remove('active');
    enBtn.classList.remove('active');
    
    if (isZh) {
      zhBtn.classList.add('active');
    } else {
      enBtn.classList.add('active');
    }
  }
}


// è¦†å¯« setLang å‡½æ•¸ä»¥æ›´æ–°è¨­å®šé é¢çš„èªè¨€æŒ‰éˆ•
// ç¢ºä¿åœ¨ common.js è¼‰å…¥å¾ŒåŸ·è¡Œ
(function() {
  function setupSetLangOverride() {
    if (typeof window.setLang === 'function') {
      const originalSetLang = window.setLang;
      window.setLang = function(lang) {
        // å…ˆèª¿ç”¨åŸå§‹å‡½æ•¸ï¼ˆå®ƒæœƒæ›´æ–° body class å’Œæ‰€æœ‰å…ƒç´ ï¼‰
        originalSetLang(lang);
        
        // å»¶é²ä¸€ä¸‹ç¢ºä¿ DOM å·²æ›´æ–°
        setTimeout(function() {
          updateSettingsLangButtons();
          
          // å†æ¬¡ç¢ºä¿æ‰€æœ‰å…ƒç´ éƒ½æ­£ç¢ºé¡¯ç¤º/éš±è—ï¼ˆé›™é‡ä¿éšªï¼‰
          // ç‰¹åˆ¥é‡å° settings-panel å…§çš„å…ƒç´ 
          const allZhElements = document.querySelectorAll('.lang-zh');
          const allEnElements = document.querySelectorAll('.lang-en');
          const isZh = lang === 'zh';
          
          allZhElements.forEach(el => {
            el.style.display = isZh ? 'block' : 'none';
          });
          allEnElements.forEach(el => {
            el.style.display = isZh ? 'none' : 'block';
          });
          
          // ç¢ºä¿ settings-panel å’Œ settings-menu å®¹å™¨å¯è¦‹
          const settingsPanel = document.querySelector('.settings-panel');
          const settingsMenu = document.querySelector('.settings-menu');
          if (settingsPanel) {
            settingsPanel.style.display = 'block';
          }
          if (settingsMenu) {
            settingsMenu.style.display = 'flex';
          }
        }, 50);
      };
      return true;
    }
    return false;
  }
  
  // å˜—è©¦ç«‹å³è¨­ç½®
  if (!setupSetLangOverride()) {
    // å¦‚æœå¤±æ•—ï¼Œç­‰å¾… DOM è¼‰å…¥
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() {
        setTimeout(setupSetLangOverride, 100);
      });
    } else {
      setTimeout(setupSetLangOverride, 100);
    }
  }
})();


// é é¢è¼‰å…¥æ™‚æ›´æ–°æŒ‰éˆ•ç‹€æ…‹ä¸¦ç¢ºä¿èªè¨€æ­£ç¢ºé¡¯ç¤º
function initSettingsPage() {
  // ç¢ºä¿èªè¨€åˆ‡æ›æ­£ç¢º
  const savedLang = localStorage.getItem('lang') || 'zh';
  if (typeof setLang === 'function') {
    // é‡æ–°æ‡‰ç”¨èªè¨€è¨­å®šï¼Œç¢ºä¿æ‰€æœ‰å…ƒç´ æ­£ç¢ºé¡¯ç¤º
    setLang(savedLang);
  }
  
  setTimeout(function() {
    updateSettingsLangButtons();
  }, 100);
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initSettingsPage);
} else {
  initSettingsPage();
}
</script>

</body>
</html>

